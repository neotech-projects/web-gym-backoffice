import{a as P,b as W,c as T,d as A,e as I,f as F,g as L,i as q,j as z,k as B,m as D,n as O}from"./chunk-MOLSLK7Y.js";import{D as l,E as x,I as C,J as y,K as b,L as _,M as v,N as e,O as i,P as p,Q as S,R as h,S as M,U as n,Y as g,Z as u,_ as f,aa as V,ja as R,ka as U,qa as k,ra as N,s as E,w as m,x as c}from"./chunk-GFW33JLT.js";function G(w,s){if(w&1){let d=S();e(0,"div",1)(1,"div",91)(2,"div",23)(3,"label",92),n(4,"Specifica Societ\xE0"),i(),e(5,"input",93),f("ngModelChange",function(a){m(d);let o=M();return u(o.otherCompany,a)||(o.otherCompany=a),c(a)}),i()()()()}if(w&2){let d=M();l(5),g("ngModel",d.otherCompany)}}function J(w,s){w&1&&(e(0,"div",20)(1,"p",94),n(2,"Inserisci utente manualmente"),i()())}function Y(w,s){w&1&&(e(0,"div",20)(1,"p",94),n(2,"Approva iscrizione utente"),i()())}var j=class w{constructor(s){this.router=s}firstName="";lastName="";email="";phone="";birthdate="";gender="";company="";otherCompany="";matricola="";certificatoMedico=!1;password="";confirmPassword="";showOtherCompany=!1;showPassword=!1;showConfirmPassword=!1;isFormExpanded=!1;isApproveCardExpanded=!1;ngOnInit(){this.setupMobileMenu()}ngAfterViewInit(){}onCompanyChange(){this.showOtherCompany=this.company==="Altra"}generateUniqueCode(){let s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",d="";for(let o=0;o<15;o++)d+=s.charAt(Math.floor(Math.random()*s.length));let a=JSON.parse(localStorage.getItem("registeredUsers")||"[]").map(o=>o.userCode);for(;a.includes(d);){d="";for(let o=0;o<15;o++)d+=s.charAt(Math.floor(Math.random()*s.length))}return d}togglePassword(s){s==="password"?this.showPassword=!this.showPassword:s==="confirmPassword"&&(this.showConfirmPassword=!this.showConfirmPassword)}resetForm(){this.firstName="",this.lastName="",this.email="",this.phone="",this.birthdate="",this.gender="",this.company="",this.otherCompany="",this.matricola="",this.certificatoMedico=!1,this.password="",this.confirmPassword="",this.showOtherCompany=!1}onSubmit(){if(this.password!==this.confirmPassword){alert("Le password non corrispondono!");return}if(this.password.length<8){alert("La password deve essere di almeno 8 caratteri!");return}let s=this.generateUniqueCode(),d=this.company;this.company==="Altra"&&(d=this.otherCompany);let t={id:Date.now(),firstName:this.firstName,lastName:this.lastName,email:this.email,phone:this.phone,birthdate:this.birthdate,gender:this.gender,company:d,matricola:this.matricola,certificatoMedico:this.certificatoMedico,userCode:s,password:this.password,status:"Attivo",registrationDate:new Date().toISOString()},a=JSON.parse(localStorage.getItem("registeredUsers")||"[]");a.push(t),localStorage.setItem("registeredUsers",JSON.stringify(a)),console.log("Dati utente:",t);let o=`\u2713 Utente registrato con successo!

Nome: ${this.firstName} ${this.lastName}
Email: ${this.email}
Matricola: ${this.matricola}
Codice Utente: ${s}
Societ\xE0: ${d}

Vuoi visualizzare la lista utenti?`;confirm(o)?this.router.navigate(["/backoffice/gestisci-utenti"]):this.resetForm()}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}setupMobileMenu(){let s=document.getElementById("topnav-hamburger-icon"),d=document.querySelector(".vertical-overlay");s&&s.addEventListener("click",()=>{window.innerWidth<=767&&(document.body.classList.toggle("vertical-sidebar-enable"),document.body.classList.contains("vertical-sidebar-enable")&&document.documentElement.setAttribute("data-sidebar-size","lg"))},!0),d&&d.addEventListener("click",()=>{document.body.classList.remove("vertical-sidebar-enable")})}get currentYear(){return new Date().getFullYear()}toggleMenu(s,d){s.preventDefault();let t=document.getElementById(d);if(t){let a=window.bootstrap?.Collapse;if(a){let o=new a(t,{toggle:!0})}else t.classList.toggle("show")}}toggleForm(){this.isFormExpanded=!this.isFormExpanded}toggleApproveCard(){this.isApproveCardExpanded=!this.isApproveCardExpanded}approveRegistration(s){confirm("Sei sicuro di voler approvare questa registrazione?")&&alert("Registrazione approvata con successo!")}rejectRegistration(s){confirm("Sei sicuro di voler rifiutare questa registrazione?")&&alert("Registrazione rifiutata.")}static \u0275fac=function(d){return new(d||w)(x(k))};static \u0275cmp=E({type:w,selectors:[["app-registra-utente"]],standalone:!0,features:[V],decls:199,vars:30,consts:[["registerUserForm","ngForm"],[1,"row"],[1,"col-12"],[1,"page-title-box","d-sm-flex","align-items-center","justify-content-between"],[1,"mb-sm-0"],[1,"page-title-right"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item"],["routerLink","/backoffice/dashboard"],["routerLink","/backoffice/gestisci-utenti"],[1,"breadcrumb-item","active"],[1,"col-lg-12"],[1,"card"],[1,"card-header","align-items-center","d-flex","bg-success-subtle"],[1,"card-title","mb-0","flex-grow-1"],[1,"ri-user-add-line","me-2"],[1,"flex-shrink-0"],["type","button","aria-controls","registerFormCollapse",1,"btn","btn-link","text-muted","p-0",2,"width","24px","height","24px","display","flex","align-items","center","justify-content","center",3,"click"],[2,"font-size","20px"],["id","registerFormCollapse",1,"collapse"],[1,"card-body"],[3,"ngSubmit"],[1,"col-md-6"],[1,"mb-3"],["for","firstName",1,"form-label"],[1,"text-danger"],["type","text","id","firstName","placeholder","Inserisci il nome","name","firstName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","lastName",1,"form-label"],["type","text","id","lastName","placeholder","Inserisci il cognome","name","lastName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","placeholder","utente@email.com","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","phone",1,"form-label"],["type","tel","id","phone","placeholder","+39 333 123 4567","name","phone","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-4"],["for","birthdate",1,"form-label"],["type","date","id","birthdate","name","birthdate","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","gender",1,"form-label"],["id","gender","name","gender","required","",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","Maschio"],["value","Femmina"],["value","Altro"],[1,"form-label"],["dir","ltr",1,"form-check","form-switch","form-switch-md","mt-2"],["type","checkbox","id","certificatoMedico","name","certificatoMedico",1,"form-check-input",3,"ngModelChange","ngModel"],["for","certificatoMedico",1,"form-check-label"],["for","company",1,"form-label"],["id","company","name","company","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["value","Acme Corporation"],["value","TechSolutions S.r.l."],["value","Global Industries"],["value","Innovation Labs"],["value","Digital Services"],["value","Altra"],["for","matricola",1,"form-label"],["type","text","id","matricola","placeholder","Inserisci la matricola aziendale","name","matricola","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-muted"],["class","row",4,"ngIf"],["for","password",1,"form-label"],[1,"position-relative"],["id","password","placeholder","Inserisci password","name","password","required","",1,"form-control","pe-5",3,"ngModelChange","type","ngModel"],["type","button",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted",3,"click"],["for","confirmPassword",1,"form-label"],["id","confirmPassword","placeholder","Conferma password","name","confirmPassword","required","",1,"form-control","pe-5",3,"ngModelChange","type","ngModel"],[1,"text-end"],["type","button",1,"btn","btn-soft-secondary","me-2",3,"click"],[1,"ri-refresh-line","me-1"],["type","submit",1,"btn","btn-success"],[1,"ri-user-add-line","me-1"],["class","card-body",4,"ngIf"],[1,"row","mt-3"],[1,"card-header","align-items-center","d-flex","bg-warning-subtle"],[1,"ri-user-check-line","me-2"],["type","button","aria-controls","approveCardCollapse",1,"btn","btn-link","text-muted","p-0",2,"width","24px","height","24px","display","flex","align-items","center","justify-content","center",3,"click"],["id","approveCardCollapse",1,"collapse"],[1,"card","border","mb-3"],[1,"row","align-items-center"],[1,"col-md-8"],[1,"mb-1"],[1,"text-muted","mb-1","small"],[1,"ri-mail-line","me-1"],[1,"ri-phone-line","me-1"],[1,"ri-building-line","me-1"],[1,"ri-time-line","me-1"],[1,"col-md-4","text-end"],["type","button",1,"btn","btn-success","btn-sm","me-2",3,"click"],[1,"ri-check-line","me-1"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"ri-close-line","me-1"],["role","alert",1,"alert","alert-info","mb-0"],[1,"ri-information-line","me-2"],[1,"col-md-12"],["for","otherCompany",1,"form-label"],["type","text","id","otherCompany","placeholder","Inserisci il nome della societ\xE0","name","otherCompany","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-muted","mb-0"]],template:function(d,t){if(d&1){let a=S();e(0,"div",1)(1,"div",2)(2,"div",3)(3,"h4",4),n(4,"Registra Nuovo Utente"),i(),e(5,"div",5)(6,"ol",6)(7,"li",7)(8,"a",8),n(9,"Dashboard"),i()(),e(10,"li",7)(11,"a",9),n(12,"Gestione Iscritti"),i()(),e(13,"li",10),n(14,"Registra Utente"),i()()()()()(),e(15,"div",1)(16,"div",11)(17,"div",12)(18,"div",13)(19,"h4",14),p(20,"i",15),n(21,"Registrazione Utente "),i(),e(22,"div",16)(23,"button",17),h("click",function(){return m(a),c(t.toggleForm())}),p(24,"i",18),i()()(),e(25,"div",19)(26,"div",20)(27,"form",21,0),h("ngSubmit",function(){return m(a),c(t.onSubmit())}),e(29,"div",1)(30,"div",22)(31,"div",23)(32,"label",24),n(33,"Nome "),e(34,"span",25),n(35,"*"),i()(),e(36,"input",26),f("ngModelChange",function(r){return m(a),u(t.firstName,r)||(t.firstName=r),c(r)}),i()()(),e(37,"div",22)(38,"div",23)(39,"label",27),n(40,"Cognome "),e(41,"span",25),n(42,"*"),i()(),e(43,"input",28),f("ngModelChange",function(r){return m(a),u(t.lastName,r)||(t.lastName=r),c(r)}),i()()()(),e(44,"div",1)(45,"div",22)(46,"div",23)(47,"label",29),n(48,"Email "),e(49,"span",25),n(50,"*"),i()(),e(51,"input",30),f("ngModelChange",function(r){return m(a),u(t.email,r)||(t.email=r),c(r)}),i()()(),e(52,"div",22)(53,"div",23)(54,"label",31),n(55,"Telefono "),e(56,"span",25),n(57,"*"),i()(),e(58,"input",32),f("ngModelChange",function(r){return m(a),u(t.phone,r)||(t.phone=r),c(r)}),i()()()(),e(59,"div",1)(60,"div",33)(61,"div",23)(62,"label",34),n(63,"Data di Nascita "),e(64,"span",25),n(65,"*"),i()(),e(66,"input",35),f("ngModelChange",function(r){return m(a),u(t.birthdate,r)||(t.birthdate=r),c(r)}),i()()(),e(67,"div",33)(68,"div",23)(69,"label",36),n(70,"Sesso "),e(71,"span",25),n(72,"*"),i()(),e(73,"select",37),f("ngModelChange",function(r){return m(a),u(t.gender,r)||(t.gender=r),c(r)}),e(74,"option",38),n(75,"Seleziona"),i(),e(76,"option",39),n(77,"Maschio"),i(),e(78,"option",40),n(79,"Femmina"),i(),e(80,"option",41),n(81,"Altro"),i()()()(),e(82,"div",33)(83,"div",23)(84,"label",42),n(85,"Certificato Medico"),i(),e(86,"div",43)(87,"input",44),f("ngModelChange",function(r){return m(a),u(t.certificatoMedico,r)||(t.certificatoMedico=r),c(r)}),i(),e(88,"label",45),n(89,"Certificato medico presente"),i()()()()(),e(90,"div",1)(91,"div",22)(92,"div",23)(93,"label",46),n(94,"Societ\xE0 "),e(95,"span",25),n(96,"*"),i()(),e(97,"select",47),f("ngModelChange",function(r){return m(a),u(t.company,r)||(t.company=r),c(r)}),h("change",function(){return m(a),c(t.onCompanyChange())}),e(98,"option",38),n(99,"Seleziona societ\xE0"),i(),e(100,"option",48),n(101,"Acme Corporation"),i(),e(102,"option",49),n(103,"TechSolutions S.r.l."),i(),e(104,"option",50),n(105,"Global Industries"),i(),e(106,"option",51),n(107,"Innovation Labs"),i(),e(108,"option",52),n(109,"Digital Services"),i(),e(110,"option",53),n(111,"Altra (specifica sotto)"),i()()()(),e(112,"div",22)(113,"div",23)(114,"label",54),n(115,"Matricola "),e(116,"span",25),n(117,"*"),i()(),e(118,"input",55),f("ngModelChange",function(r){return m(a),u(t.matricola,r)||(t.matricola=r),c(r)}),i(),e(119,"small",56),n(120,"Numero di matricola del dipendente"),i()()()(),C(121,G,6,1,"div",57),e(122,"div",1)(123,"div",22)(124,"div",23)(125,"label",58),n(126,"Password "),e(127,"span",25),n(128,"*"),i()(),e(129,"div",59)(130,"input",60),f("ngModelChange",function(r){return m(a),u(t.password,r)||(t.password=r),c(r)}),i(),e(131,"button",61),h("click",function(){return m(a),c(t.togglePassword("password"))}),p(132,"i"),i()(),e(133,"small",56),n(134,"Min. 8 caratteri, una maiuscola, un numero"),i()()(),e(135,"div",22)(136,"div",23)(137,"label",62),n(138,"Conferma Password "),e(139,"span",25),n(140,"*"),i()(),e(141,"div",59)(142,"input",63),f("ngModelChange",function(r){return m(a),u(t.confirmPassword,r)||(t.confirmPassword=r),c(r)}),i(),e(143,"button",61),h("click",function(){return m(a),c(t.togglePassword("confirmPassword"))}),p(144,"i"),i()()()()(),e(145,"div",1)(146,"div",11)(147,"div",64)(148,"button",65),h("click",function(){return m(a),c(t.resetForm())}),p(149,"i",66),n(150," Reset Form "),i(),e(151,"button",65),h("click",function(){return m(a),c(t.resetForm())}),n(152,"Annulla"),i(),e(153,"button",67),p(154,"i",68),n(155," Registra Utente "),i()()()()()()(),C(156,J,3,0,"div",69),i()()(),e(157,"div",70)(158,"div",11)(159,"div",12)(160,"div",71)(161,"h4",14),p(162,"i",72),n(163,"Approva Utente "),i(),e(164,"div",16)(165,"button",73),h("click",function(){return m(a),c(t.toggleApproveCard())}),p(166,"i",18),i()()(),C(167,Y,3,0,"div",69),e(168,"div",74)(169,"div",20)(170,"div",75)(171,"div",20)(172,"div",76)(173,"div",77)(174,"h6",78),n(175,"Giuseppe Verdi"),i(),e(176,"p",79),p(177,"i",80),n(178,"giuseppe.verdi@email.com"),p(179,"br")(180,"i",81),n(181,"+39 333 999 8888"),p(182,"br")(183,"i",82),n(184,"TechSolutions S.r.l. - Matricola: TS12345 "),i(),e(185,"small",56),p(186,"i",83),n(187,"Richiesta inviata il 15/01/2026 alle 14:30 "),i()(),e(188,"div",84)(189,"button",85),h("click",function(){return m(a),c(t.approveRegistration(1))}),p(190,"i",86),n(191," Approva "),i(),e(192,"button",87),h("click",function(){return m(a),c(t.rejectRegistration(1))}),p(193,"i",88),n(194," Rifiuta "),i()()()()(),e(195,"div",89),p(196,"i",90),e(197,"small"),n(198,"Altre richieste di registrazione verranno visualizzate qui."),i()()()()()()()}d&2&&(l(23),y("aria-expanded",t.isFormExpanded),l(),v(t.isFormExpanded?"ri-arrow-up-s-line":"ri-arrow-down-s-line"),l(),_("show",t.isFormExpanded),l(11),g("ngModel",t.firstName),l(7),g("ngModel",t.lastName),l(8),g("ngModel",t.email),l(7),g("ngModel",t.phone),l(8),g("ngModel",t.birthdate),l(7),g("ngModel",t.gender),l(14),g("ngModel",t.certificatoMedico),l(10),g("ngModel",t.company),l(21),g("ngModel",t.matricola),l(3),b("ngIf",t.showOtherCompany),l(9),b("type",t.showPassword?"text":"password"),g("ngModel",t.password),l(2),v(t.showPassword?"ri-eye-off-fill align-middle":"ri-eye-fill align-middle"),l(10),b("type",t.showConfirmPassword?"text":"password"),g("ngModel",t.confirmPassword),l(2),v(t.showConfirmPassword?"ri-eye-off-fill align-middle":"ri-eye-fill align-middle"),l(12),b("ngIf",!t.isFormExpanded),l(9),y("aria-expanded",t.isApproveCardExpanded),l(),v(t.isApproveCardExpanded?"ri-arrow-up-s-line":"ri-arrow-down-s-line"),l(),b("ngIf",!t.isApproveCardExpanded),l(),_("show",t.isApproveCardExpanded))},dependencies:[U,R,N,O,L,z,B,W,P,q,T,A,D,F,I]})};export{j as RegistraUtenteComponent};
