import{b as Q,c as J,d as X,e as Z,f as $,g as ee,i as te,j as ie,k as ne,m as ae,n as re}from"./chunk-MOLSLK7Y.js";import{D as s,E as P,I as w,K as g,M as N,N as e,O as t,P as m,Q as k,R as h,S as y,U as a,V as f,W as L,X as R,Y as c,Z as p,_ as u,a as v,aa as H,b as C,h as S,i as E,ia as V,ja as z,k as x,ka as q,la as j,n as B,q as F,qa as K,ra as Y,s as O,w as U,x as M}from"./chunk-GFW33JLT.js";var I=class d{constructor(r){this.http=r}API_URL="/api/users";MOCK_URL="/assets/mock/users.json";serverAvailable=!0;lastCheck=0;CHECK_INTERVAL=6e4;isServerAvailable(){let r=Date.now();return r-this.lastCheck>this.CHECK_INTERVAL&&(this.lastCheck=r),this.serverAvailable}handleConnectionError(r,i){let n=r.status===0,l=r.message?.includes("parsing")||r.error instanceof ProgressEvent;return n||l?(this.serverAvailable=!1,(this.lastCheck===0||Date.now()-this.lastCheck>this.CHECK_INTERVAL)&&(console.info("Microservizio non disponibile, uso dati mock locali"),this.lastCheck=Date.now()),i()):r.status&&r.status>=400?(this.serverAvailable=!1,(this.lastCheck===0||Date.now()-this.lastCheck>this.CHECK_INTERVAL)&&(console.info("Microservizio non disponibile, uso dati mock locali"),this.lastCheck=Date.now()),i()):(console.warn("Errore nella chiamata al microservizio:",r.message),this.serverAvailable=!1,i())}getUsers(){return this.isServerAvailable()?this.http.get(this.API_URL,{headers:{Accept:"application/json"}}).pipe(E(r=>{if(r.success&&r.data)return this.serverAvailable=!0,r.data.map(i=>C(v({},i),{birthdateDisplay:i.birthdate?new Date(i.birthdate).toLocaleDateString("it-IT"):void 0}));throw new Error(r.message||"Invalid response format")}),x(r=>r.status===404?(this.serverAvailable=!1,this.getMockUsers()):this.handleConnectionError(r,()=>this.getMockUsers()))):this.getMockUsers()}getMockUsers(){return this.http.get(this.MOCK_URL).pipe(E(r=>r.map(i=>C(v({},i),{birthdateDisplay:i.birthdate?new Date(i.birthdate).toLocaleDateString("it-IT"):void 0}))),x(r=>(console.error("Errore nel caricamento del mock:",r),S([]))))}createUser(r){return this.isServerAvailable()?this.http.post(this.API_URL,r).pipe(E(i=>{if(i.success&&i.data)return this.serverAvailable=!0,C(v({},i.data),{birthdateDisplay:i.data.birthdate?new Date(i.data.birthdate).toLocaleDateString("it-IT"):void 0});throw new Error(i.message||"Invalid response format")}),x(i=>S(C(v({},r),{id:Date.now()})))):S(C(v({},r),{id:Date.now()}))}updateUser(r,i){return this.isServerAvailable()?this.http.put(`${this.API_URL}/${r}`,i).pipe(E(n=>{if(n.success&&n.data)return this.serverAvailable=!0,C(v({},n.data),{birthdateDisplay:n.data.birthdate?new Date(n.data.birthdate).toLocaleDateString("it-IT"):void 0});throw new Error(n.message||"Invalid response format")}),x(n=>S(C(v({},i),{id:r})))):S(C(v({},i),{id:r}))}deleteUser(r){return this.isServerAvailable()?this.http.delete(`${this.API_URL}/${r}`).pipe(E(i=>(this.serverAvailable=!0,i.success)),x(i=>S(!0))):S(!0)}static \u0275fac=function(i){return new(i||d)(F(j))};static \u0275prov=B({token:d,factory:d.\u0275fac,providedIn:"root"})};function de(d,r){d&1&&m(0,"span",135)}function me(d,r){d&1&&m(0,"span",136)}function ce(d,r){d&1&&m(0,"span",137)}function pe(d,r){if(d&1){let i=k();e(0,"tr")(1,"td")(2,"div",116)(3,"div",66)(4,"div",117),a(5),t()(),e(6,"div")(7,"h6",68),a(8),t()()()(),e(9,"td")(10,"div")(11,"small",118),m(12,"i",119),a(13),t(),e(14,"small",53),m(15,"i",120),a(16),t()()(),e(17,"td")(18,"code",121),a(19),t()(),e(20,"td"),a(21),t(),e(22,"td"),a(23),t(),e(24,"td"),a(25),t(),e(26,"td"),a(27),t(),e(28,"td")(29,"span"),a(30),t()(),e(31,"td")(32,"div",122)(33,"div",123)(34,"button",124),m(35,"i",125),t(),e(36,"ul",126)(37,"li")(38,"a",127),h("click",function(l){let o=U(i).$implicit;return y().editUser(o.id),M(l.preventDefault())}),m(39,"i",74),a(40,"Modifica"),t()(),e(41,"li")(42,"a",127),h("click",function(l){let o=U(i).$implicit;return y().viewUserDetails(o.id),M(l.preventDefault())}),m(43,"i",128),a(44,"Dettagli"),t()(),e(45,"li")(46,"a",127),h("click",function(l){let o=U(i).$implicit;return y().viewUserHistory(o.id),M(l.preventDefault())}),m(47,"i",64),a(48,"Storico"),t()(),e(49,"li"),m(50,"hr",129),t(),e(51,"li")(52,"a",130),h("click",function(l){let o=U(i).$implicit;return y().deleteUser(o.id),M(l.preventDefault())}),m(53,"i",131),a(54,"Elimina"),t()()()(),w(55,de,1,0,"span",132)(56,me,1,0,"span",133)(57,ce,1,0,"span",134),t()()()}if(d&2){let i=r.$implicit,n=y();s(5),f((i.firstName.charAt(0)+i.lastName.charAt(0)).toUpperCase()),s(3),R("",i.firstName," ",i.lastName,""),s(5),f(i.email),s(3),f(i.phone),s(3),f(i.userCode||"N/A"),s(2),f(i.matricola||"-"),s(2),f(i.company),s(2),f(i.birthdateDisplay||i.birthdate),s(2),f(i.gender),s(2),N(i.status==="Attivo"?"badge bg-success-subtle text-success":"badge bg-danger-subtle text-danger"),s(),L(" ",i.status," "),s(25),g("ngIf",n.getTrafficLightStatus(i)==="green"),s(),g("ngIf",n.getTrafficLightStatus(i)==="orange"),s(),g("ngIf",n.getTrafficLightStatus(i)==="red")}}function ue(d,r){d&1&&(e(0,"tr")(1,"td",138),m(2,"i",139),a(3," Nessun utente trovato "),t()())}function ge(d,r){d&1&&(e(0,"span",143),m(1,"i",144),a(2,"Effettuato "),t())}function he(d,r){d&1&&(e(0,"span",145),m(1,"i",33),a(2,"Non effettuato "),t())}function fe(d,r){if(d&1&&(e(0,"tr")(1,"td"),a(2),t(),e(3,"td"),a(4),t(),e(5,"td"),w(6,ge,3,0,"span",141)(7,he,3,0,"span",142),t()()),d&2){let i=r.$implicit;s(2),f(i.date),s(2),f(i.time),s(2),g("ngIf",i.hasAccess),s(),g("ngIf",!i.hasAccess)}}function be(d,r){if(d&1&&(e(0,"table",140)(1,"thead",37)(2,"tr")(3,"th",38),a(4,"Data"),t(),e(5,"th",38),a(6,"Ora"),t(),e(7,"th",38),a(8,"Accesso"),t()()(),e(9,"tbody"),w(10,fe,8,4,"tr",39),t()()),d&2){let i=y();s(10),g("ngForOf",i.selectedUserHistory)}}function ve(d,r){d&1&&(e(0,"div",146),m(1,"i",147),a(2," Nessuna prenotazione registrata per questo utente "),t())}function Ce(d,r){if(d&1){let i=k();e(0,"div",0)(1,"div",148)(2,"div",77)(3,"label",149),a(4,"Specifica Societ\xE0"),t(),e(5,"input",150),u("ngModelChange",function(l){U(i);let o=y();return p(o.editOtherCompany,l)||(o.editOtherCompany=l),M(l)}),t()()()()}if(d&2){let i=y();s(5),c("ngModel",i.editOtherCompany)}}var oe=class d{constructor(r,i){this.router=r;this.usersService=i}allUsers=[];filteredUsers=[];filterCognome="";filterSocieta="";filterMatricola="";editUserId="";editFirstName="";editLastName="";editEmail="";editPhone="";editBirthdate="";editGender="";editCompany="";editOtherCompany="";editShowOtherCompany=!1;editMatricola="";editUserCode="";editNewPassword="";editConfirmPassword="";editShowPassword=!1;editShowConfirmPassword=!1;selectedUserName="";selectedUserHistory=[];ngOnInit(){this.loadUsers(),this.setupMobileMenu()}ngAfterViewInit(){}onEditCompanyChange(){this.editShowOtherCompany=this.editCompany==="Altra",this.editShowOtherCompany||(this.editOtherCompany="")}loadUsers(){this.usersService.getUsers().subscribe({next:r=>{this.allUsers=r,this.filteredUsers=[...this.allUsers]},error:r=>{console.error("Errore nel caricamento degli utenti:",r),this.allUsers=[],this.filteredUsers=[]}})}applyFilters(){this.filteredUsers=this.allUsers.filter(r=>{let i=!this.filterCognome||`${r.firstName} ${r.lastName}`.toUpperCase().includes(this.filterCognome.toUpperCase()),n=!this.filterSocieta||r.company.toUpperCase().includes(this.filterSocieta.toUpperCase()),l=!this.filterMatricola||r.matricola.toUpperCase().includes(this.filterMatricola.toUpperCase());return i&&n&&l})}clearFilters(){this.filterCognome="",this.filterSocieta="",this.filterMatricola="",this.applyFilters()}viewUserDetails(r){let i=this.allUsers.find(W=>W.id.toString()===r.toString());if(!i)return;let n=document.getElementById("detailName"),l=document.getElementById("detailEmail"),o=document.getElementById("detailPhone"),b=document.getElementById("detailUserCode"),_=document.getElementById("detailMatricola"),T=document.getElementById("detailCompany"),A=document.getElementById("detailBirthdate"),G=document.getElementById("detailGender");n&&(n.textContent=`${i.firstName} ${i.lastName}`),l&&(l.textContent=i.email),o&&(o.textContent=i.phone),b&&(b.textContent=i.userCode||"N/A"),_&&(_.textContent=i.matricola||"-"),T&&(T.textContent=i.company),A&&(A.textContent=i.birthdateDisplay||i.birthdate),G&&(G.textContent=i.gender);let D=document.getElementById("userDetailsModal");D&&new bootstrap.Modal(D).show()}viewUserHistory(r){let i=this.allUsers.find(l=>l.id.toString()===r.toString());if(!i)return;this.selectedUserName=`${i.firstName} ${i.lastName}`,this.selectedUserHistory=i.bookingHistory?[...i.bookingHistory]:[];let n=document.getElementById("userHistoryModal");n&&new bootstrap.Modal(n).show()}editUser(r){let i=this.allUsers.find(o=>o.id.toString()===r.toString());if(!i)return;this.editUserId=i.id,this.editFirstName=i.firstName,this.editLastName=i.lastName,this.editEmail=i.email,this.editPhone=i.phone,this.editBirthdate=i.birthdate,this.editGender=i.gender,this.editMatricola=i.matricola||"",this.editUserCode=i.userCode||"N/A",this.editNewPassword="",this.editConfirmPassword="",["Acme Corporation","TechSolutions S.r.l.","Global Industries","Innovation Labs","Digital Services"].includes(i.company)?(this.editCompany=i.company,this.editOtherCompany="",this.editShowOtherCompany=!1):(this.editCompany="Altra",this.editOtherCompany=i.company,this.editShowOtherCompany=!0);let l=document.getElementById("editUserModal");l&&new bootstrap.Modal(l).show()}saveUserChanges(){let r=this.editCompany;if(this.editCompany==="Altra"&&(r=this.editOtherCompany),!this.editFirstName||!this.editLastName||!this.editEmail||!this.editPhone||!this.editBirthdate||!this.editGender||!r||!this.editMatricola){alert("Per favore compila tutti i campi obbligatori!");return}if(this.editNewPassword||this.editConfirmPassword){if(!this.editNewPassword||!this.editConfirmPassword){alert("Per modificare la password, compila entrambi i campi!");return}if(this.editNewPassword!==this.editConfirmPassword){alert("Le password non corrispondono!");return}if(this.editNewPassword.length<8){alert("La password deve essere di almeno 8 caratteri!");return}}let i={firstName:this.editFirstName,lastName:this.editLastName,email:this.editEmail,phone:this.editPhone,birthdate:this.editBirthdate,gender:this.editGender,company:r,matricola:this.editMatricola};this.editNewPassword&&(i.password=this.editNewPassword),this.usersService.updateUser(this.editUserId,i).subscribe({next:n=>{let l=this.allUsers.findIndex(_=>_.id.toString()===this.editUserId.toString());l!==-1?this.allUsers[l]=n:this.loadUsers(),this.applyFilters();let o=`\u2713 Utente aggiornato con successo!

Nome: ${this.editFirstName} ${this.editLastName}
Email: ${this.editEmail}
Matricola: ${this.editMatricola}
Societ\xE0: ${r}`;this.editNewPassword&&(o+=`

\u2713 Password aggiornata con successo!`),alert(o);let b=document.getElementById("editUserModal");if(b){let _=bootstrap.Modal.getInstance(b);_&&_.hide()}},error:n=>{console.error("Errore nell'aggiornamento dell'utente:",n),alert("Errore nell'aggiornamento dell'utente. Riprova pi\xF9 tardi.")}})}deleteUser(r){if(!confirm(`Sei sicuro di voler eliminare questo utente?

Questa azione non pu\xF2 essere annullata.`))return;let i=r.toString();if(!this.allUsers.find(l=>l.id.toString()===i)){alert("Errore: utente non trovato!");return}this.usersService.deleteUser(r).subscribe({next:l=>{l?(this.allUsers=this.allUsers.filter(o=>o.id.toString()!==i),this.applyFilters(),alert("Utente eliminato con successo!")):alert("Errore: impossibile eliminare l'utente!")},error:l=>{console.error("Errore nell'eliminazione dell'utente:",l),alert("Errore nell'eliminazione dell'utente. Riprova pi\xF9 tardi.")}})}togglePassword(r){r==="editNewPassword"?this.editShowPassword=!this.editShowPassword:r==="editConfirmPassword"&&(this.editShowConfirmPassword=!this.editShowConfirmPassword)}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}setupMobileMenu(){let r=document.getElementById("topnav-hamburger-icon"),i=document.querySelector(".vertical-overlay");r&&r.addEventListener("click",()=>{window.innerWidth<=767&&(document.body.classList.toggle("vertical-sidebar-enable"),document.body.classList.contains("vertical-sidebar-enable")&&document.documentElement.setAttribute("data-sidebar-size","lg"))},!0),i&&i.addEventListener("click",()=>{document.body.classList.remove("vertical-sidebar-enable")})}get currentYear(){return new Date().getFullYear()}toggleMenu(r,i){r.preventDefault();let n=document.getElementById(i);if(n){let l=window.bootstrap?.Collapse;if(l){let o=new l(n,{toggle:!0})}else n.classList.toggle("show")}}getTrafficLightStatus(r){if(!r.bookingHistory||r.bookingHistory.length===0)return"green";let i=r.bookingHistory.filter(n=>!n.hasAccess).length;return i===0?"green":i>=3?"red":"orange"}static \u0275fac=function(i){return new(i||d)(P(K),P(I))};static \u0275cmp=O({type:d,selectors:[["app-gestisci-utenti"]],standalone:!0,features:[H],decls:282,vars:28,consts:[[1,"row"],[1,"col-12"],[1,"page-title-box","d-sm-flex","align-items-center","justify-content-between"],[1,"mb-sm-0"],[1,"page-title-right"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item"],["routerLink","/backoffice/dashboard"],["href","#"],[1,"breadcrumb-item","active"],[1,"col-lg-12"],[1,"card"],[1,"card-header","align-items-center","d-flex","flex-wrap"],[1,"card-title","mb-0","flex-grow-1"],[1,"flex-shrink-0","d-flex","gap-2"],["routerLink","/backoffice/registra-utente",1,"btn","btn-success","btn-sm"],[1,"ri-user-add-line","me-1"],[1,"card-body","border-bottom"],[1,"row","g-3"],[1,"col-md-4"],["for","filterCognome",1,"form-label","small","text-muted"],[1,"input-group","input-group-sm"],["type","text","id","filterCognome","placeholder","Cerca per cognome...","name","filterCognome",1,"form-control",3,"ngModelChange","keyup","ngModel"],[1,"input-group-text"],[1,"ri-user-line"],["for","filterSocieta",1,"form-label","small","text-muted"],["type","text","id","filterSocieta","placeholder","Cerca per societ\xE0...","name","filterSocieta",1,"form-control",3,"ngModelChange","keyup","ngModel"],[1,"ri-building-line"],["for","filterMatricola",1,"form-label","small","text-muted"],["type","text","id","filterMatricola","placeholder","Cerca per matricola...","name","filterMatricola",1,"form-control",3,"ngModelChange","keyup","ngModel"],[1,"ri-id-card-line"],[1,"row","mt-2"],["type","button",1,"btn","btn-soft-secondary","btn-sm",3,"click"],[1,"ri-close-line","me-1"],[1,"card-body"],[1,"table-responsive"],["id","usersTable",1,"table","table-hover","table-nowrap","align-middle","mb-0"],[1,"table-light"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["id","userDetailsModal","tabindex","-1","aria-labelledby","userDetailsModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-primary-subtle"],["id","userDetailsModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"col-md-6","mb-3"],[1,"form-label","fw-semibold"],["id","detailName",1,"text-muted"],["id","detailEmail",1,"text-muted"],["id","detailPhone",1,"text-muted"],[1,"text-muted"],["id","detailUserCode",1,"bg-light","px-2","py-1","rounded"],["id","detailMatricola",1,"text-muted"],["id","detailCompany",1,"text-muted"],["id","detailBirthdate",1,"text-muted"],["id","detailGender",1,"text-muted"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-soft-secondary"],["id","userHistoryModal","tabindex","-1","aria-labelledby","userHistoryModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-header","bg-info-subtle"],["id","userHistoryModalLabel",1,"modal-title"],[1,"ri-history-line","me-2"],[1,"d-flex","align-items-center","mb-3"],[1,"avatar-xs","me-2"],[1,"avatar-title","bg-info-subtle","text-info","rounded-circle"],[1,"mb-0"],["class","table table-sm table-hover align-middle mb-0",4,"ngIf"],["class","text-center py-4",4,"ngIf"],["id","editUserModal","tabindex","-1","aria-labelledby","editUserModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-header","bg-warning-subtle"],["id","editUserModalLabel",1,"modal-title"],[1,"ri-pencil-line","me-2"],["type","hidden",3,"value"],[1,"col-md-6"],[1,"mb-3"],["for","editFirstName",1,"form-label"],[1,"text-danger"],["type","text","id","editFirstName","placeholder","Inserisci il nome","name","editFirstName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editLastName",1,"form-label"],["type","text","id","editLastName","placeholder","Inserisci il cognome","name","editLastName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editEmail",1,"form-label"],["type","email","id","editEmail","placeholder","utente@email.com","name","editEmail","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editPhone",1,"form-label"],["type","tel","id","editPhone","placeholder","+39 333 123 4567","name","editPhone","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editBirthdate",1,"form-label"],["type","date","id","editBirthdate","name","editBirthdate","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","editGender",1,"form-label"],["id","editGender","name","editGender","required","",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","Maschio"],["value","Femmina"],["value","Altro"],["for","editCompany",1,"form-label"],["id","editCompany","name","editCompany","required","",1,"form-select",3,"ngModelChange","change","ngModel"],["value","Acme Corporation"],["value","TechSolutions S.r.l."],["value","Global Industries"],["value","Innovation Labs"],["value","Digital Services"],["value","Altra"],["class","row",4,"ngIf"],["for","editMatricola",1,"form-label"],["type","text","id","editMatricola","placeholder","Inserisci la matricola aziendale","name","editMatricola","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-label"],["type","text","id","editUserCode","name","editUserCode","readonly","",1,"form-control",2,"background-color","#f8f9fa",3,"ngModelChange","ngModel"],["for","editNewPassword",1,"form-label"],[1,"position-relative"],["id","editNewPassword","placeholder","Lascia vuoto per non modificare","name","editNewPassword",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted",3,"click"],["for","editConfirmPassword",1,"form-label"],["id","editConfirmPassword","placeholder","Conferma la nuova password","name","editConfirmPassword",1,"form-control",3,"ngModelChange","type","ngModel"],["type","button",1,"btn","btn-warning",3,"click"],[1,"ri-save-line","me-1"],[1,"d-flex","align-items-center"],[1,"avatar-title","bg-primary-subtle","text-primary","rounded-circle"],[1,"text-muted","d-block"],[1,"ri-mail-line","me-1"],[1,"ri-phone-line","me-1"],[1,"bg-light","px-2","py-1","rounded"],[1,"d-flex","align-items-center","gap-2"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-sm","btn-soft-secondary"],[1,"ri-more-fill"],[1,"dropdown-menu"],["href","#",1,"dropdown-item",3,"click"],[1,"ri-eye-line","me-2"],[1,"dropdown-divider"],["href","#",1,"dropdown-item","text-danger",3,"click"],[1,"ri-delete-bin-line","me-2"],["class","rounded-circle d-inline-block","style","width: 18px; height: 18px; background-color: #28a745; border: 2px solid #1e7e34; box-shadow: 0 0 0 2px rgba(40, 167, 69, 0.2); flex-shrink: 0;","title","Nessun accesso saltato","data-bs-toggle","tooltip",4,"ngIf"],["class","rounded-circle d-inline-block","style","width: 18px; height: 18px; background-color: #ffc107; border: 2px solid #d39e00; box-shadow: 0 0 0 2px rgba(255, 193, 7, 0.2); flex-shrink: 0;","title","Almeno un accesso saltato","data-bs-toggle","tooltip",4,"ngIf"],["class","rounded-circle d-inline-block","style","width: 18px; height: 18px; background-color: #dc3545; border: 2px solid #bd2130; box-shadow: 0 0 0 2px rgba(220, 53, 69, 0.2); flex-shrink: 0;","title","3 o pi\xF9 accessi saltati","data-bs-toggle","tooltip",4,"ngIf"],["title","Nessun accesso saltato","data-bs-toggle","tooltip",1,"rounded-circle","d-inline-block",2,"width","18px","height","18px","background-color","#28a745","border","2px solid #1e7e34","box-shadow","0 0 0 2px rgba(40, 167, 69, 0.2)","flex-shrink","0"],["title","Almeno un accesso saltato","data-bs-toggle","tooltip",1,"rounded-circle","d-inline-block",2,"width","18px","height","18px","background-color","#ffc107","border","2px solid #d39e00","box-shadow","0 0 0 2px rgba(255, 193, 7, 0.2)","flex-shrink","0"],["title","3 o pi\xF9 accessi saltati","data-bs-toggle","tooltip",1,"rounded-circle","d-inline-block",2,"width","18px","height","18px","background-color","#dc3545","border","2px solid #bd2130","box-shadow","0 0 0 2px rgba(220, 53, 69, 0.2)","flex-shrink","0"],["colspan","9",1,"text-center","py-4"],[1,"ri-user-search-line","fs-20","d-block","mb-2"],[1,"table","table-sm","table-hover","align-middle","mb-0"],["class","badge bg-success-subtle text-success",4,"ngIf"],["class","badge bg-danger-subtle text-danger",4,"ngIf"],[1,"badge","bg-success-subtle","text-success"],[1,"ri-check-line","me-1"],[1,"badge","bg-danger-subtle","text-danger"],[1,"text-center","py-4"],[1,"ri-calendar-line","fs-20","d-block","mb-2"],[1,"col-md-12"],["for","editOtherCompany",1,"form-label"],["type","text","id","editOtherCompany","placeholder","Inserisci il nome della societ\xE0","name","editOtherCompany","required","",1,"form-control",3,"ngModelChange","ngModel"]],template:function(i,n){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),a(4,"Visualizza Utenti Registrati"),t(),e(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),a(9,"Dashboard"),t()(),e(10,"li",6)(11,"a",8),a(12,"Gestione Iscritti"),t()(),e(13,"li",9),a(14,"Visualizza Utenti"),t()()()()()(),e(15,"div",0)(16,"div",10)(17,"div",11)(18,"div",12)(19,"h4",13),a(20,"Utenti Registrati"),t(),e(21,"div",14)(22,"a",15),m(23,"i",16),a(24," Nuovo Utente "),t()()(),e(25,"div",17)(26,"div",18)(27,"div",19)(28,"label",20),a(29,"Filtra per Cognome"),t(),e(30,"div",21)(31,"input",22),u("ngModelChange",function(o){return p(n.filterCognome,o)||(n.filterCognome=o),o}),h("keyup",function(){return n.applyFilters()}),t(),e(32,"span",23),m(33,"i",24),t()()(),e(34,"div",19)(35,"label",25),a(36,"Filtra per Societ\xE0"),t(),e(37,"div",21)(38,"input",26),u("ngModelChange",function(o){return p(n.filterSocieta,o)||(n.filterSocieta=o),o}),h("keyup",function(){return n.applyFilters()}),t(),e(39,"span",23),m(40,"i",27),t()()(),e(41,"div",19)(42,"label",28),a(43,"Filtra per Matricola"),t(),e(44,"div",21)(45,"input",29),u("ngModelChange",function(o){return p(n.filterMatricola,o)||(n.filterMatricola=o),o}),h("keyup",function(){return n.applyFilters()}),t(),e(46,"span",23),m(47,"i",30),t()()()(),e(48,"div",31)(49,"div",1)(50,"button",32),h("click",function(){return n.clearFilters()}),m(51,"i",33),a(52," Pulisci Filtri "),t()()()(),e(53,"div",34)(54,"div",35)(55,"table",36)(56,"thead",37)(57,"tr")(58,"th",38),a(59,"Utente"),t(),e(60,"th",38),a(61,"Contatti"),t(),e(62,"th",38),a(63,"Codice Utente"),t(),e(64,"th",38),a(65,"Matricola"),t(),e(66,"th",38),a(67,"Societ\xE0"),t(),e(68,"th",38),a(69,"Data Nascita"),t(),e(70,"th",38),a(71,"Sesso"),t(),e(72,"th",38),a(73,"Stato"),t(),e(74,"th",38),a(75,"Azioni"),t()()(),e(76,"tbody"),w(77,pe,58,16,"tr",39)(78,ue,4,0,"tr",40),t()()()()()()(),e(79,"div",41)(80,"div",42)(81,"div",43)(82,"div",44)(83,"h5",45),a(84,"Dettagli Utente"),t(),m(85,"button",46),t(),e(86,"div",47)(87,"div",0)(88,"div",48)(89,"label",49),a(90,"Nome Completo"),t(),e(91,"p",50),a(92,"-"),t()(),e(93,"div",48)(94,"label",49),a(95,"Email"),t(),e(96,"p",51),a(97,"-"),t()(),e(98,"div",48)(99,"label",49),a(100,"Telefono"),t(),e(101,"p",52),a(102,"-"),t()(),e(103,"div",48)(104,"label",49),a(105,"Codice Utente"),t(),e(106,"p",53)(107,"code",54),a(108,"-"),t()()(),e(109,"div",48)(110,"label",49),a(111,"Matricola"),t(),e(112,"p",55),a(113,"-"),t()(),e(114,"div",48)(115,"label",49),a(116,"Societ\xE0"),t(),e(117,"p",56),a(118,"-"),t()(),e(119,"div",48)(120,"label",49),a(121,"Data di Nascita"),t(),e(122,"p",57),a(123,"-"),t()(),e(124,"div",48)(125,"label",49),a(126,"Sesso"),t(),e(127,"p",58),a(128,"-"),t()()()(),e(129,"div",59)(130,"button",60),a(131,"Chiudi"),t()()()()(),e(132,"div",61)(133,"div",42)(134,"div",43)(135,"div",62)(136,"h5",63),m(137,"i",64),a(138,"Storico Prenotazioni "),t(),m(139,"button",46),t(),e(140,"div",47)(141,"div",65)(142,"div",66)(143,"div",67),a(144),t()(),e(145,"div")(146,"h6",68),a(147),t(),e(148,"small",53),a(149,"Storico prenotazioni e accessi"),t()()(),e(150,"div",35),w(151,be,11,1,"table",69)(152,ve,3,0,"div",70),t()(),e(153,"div",59)(154,"button",60),a(155,"Chiudi"),t()()()()(),e(156,"div",71)(157,"div",42)(158,"div",43)(159,"div",72)(160,"h5",73),m(161,"i",74),a(162,"Modifica Utente "),t(),m(163,"button",46),t(),e(164,"div",47)(165,"form"),m(166,"input",75),e(167,"div",0)(168,"div",76)(169,"div",77)(170,"label",78),a(171,"Nome "),e(172,"span",79),a(173,"*"),t()(),e(174,"input",80),u("ngModelChange",function(o){return p(n.editFirstName,o)||(n.editFirstName=o),o}),t()()(),e(175,"div",76)(176,"div",77)(177,"label",81),a(178,"Cognome "),e(179,"span",79),a(180,"*"),t()(),e(181,"input",82),u("ngModelChange",function(o){return p(n.editLastName,o)||(n.editLastName=o),o}),t()()()(),e(182,"div",0)(183,"div",76)(184,"div",77)(185,"label",83),a(186,"Email "),e(187,"span",79),a(188,"*"),t()(),e(189,"input",84),u("ngModelChange",function(o){return p(n.editEmail,o)||(n.editEmail=o),o}),t()()(),e(190,"div",76)(191,"div",77)(192,"label",85),a(193,"Telefono "),e(194,"span",79),a(195,"*"),t()(),e(196,"input",86),u("ngModelChange",function(o){return p(n.editPhone,o)||(n.editPhone=o),o}),t()()()(),e(197,"div",0)(198,"div",19)(199,"div",77)(200,"label",87),a(201,"Data di Nascita "),e(202,"span",79),a(203,"*"),t()(),e(204,"input",88),u("ngModelChange",function(o){return p(n.editBirthdate,o)||(n.editBirthdate=o),o}),t()()(),e(205,"div",19)(206,"div",77)(207,"label",89),a(208,"Sesso "),e(209,"span",79),a(210,"*"),t()(),e(211,"select",90),u("ngModelChange",function(o){return p(n.editGender,o)||(n.editGender=o),o}),e(212,"option",91),a(213,"Seleziona"),t(),e(214,"option",92),a(215,"Maschio"),t(),e(216,"option",93),a(217,"Femmina"),t(),e(218,"option",94),a(219,"Altro"),t()()()(),e(220,"div",19)(221,"div",77)(222,"label",95),a(223,"Societ\xE0 "),e(224,"span",79),a(225,"*"),t()(),e(226,"select",96),u("ngModelChange",function(o){return p(n.editCompany,o)||(n.editCompany=o),o}),h("change",function(){return n.onEditCompanyChange()}),e(227,"option",91),a(228,"Seleziona societ\xE0"),t(),e(229,"option",97),a(230,"Acme Corporation"),t(),e(231,"option",98),a(232,"TechSolutions S.r.l."),t(),e(233,"option",99),a(234,"Global Industries"),t(),e(235,"option",100),a(236,"Innovation Labs"),t(),e(237,"option",101),a(238,"Digital Services"),t(),e(239,"option",102),a(240,"Altra (specifica sotto)"),t()()()()(),w(241,Ce,6,1,"div",103),e(242,"div",0)(243,"div",76)(244,"div",77)(245,"label",104),a(246,"Matricola "),e(247,"span",79),a(248,"*"),t()(),e(249,"input",105),u("ngModelChange",function(o){return p(n.editMatricola,o)||(n.editMatricola=o),o}),t()()(),e(250,"div",76)(251,"div",77)(252,"label",106),a(253,"Codice Utente"),t(),e(254,"input",107),u("ngModelChange",function(o){return p(n.editUserCode,o)||(n.editUserCode=o),o}),t(),e(255,"small",53),a(256,"Codice generato automaticamente alla registrazione"),t()()()(),e(257,"div",0)(258,"div",76)(259,"div",77)(260,"label",108),a(261,"Nuova Password"),t(),e(262,"div",109)(263,"input",110),u("ngModelChange",function(o){return p(n.editNewPassword,o)||(n.editNewPassword=o),o}),t(),e(264,"button",111),h("click",function(){return n.togglePassword("editNewPassword")}),m(265,"i"),t()(),e(266,"small",53),a(267,"Lascia vuoto se non vuoi modificare la password"),t()()(),e(268,"div",76)(269,"div",77)(270,"label",112),a(271,"Conferma Nuova Password"),t(),e(272,"div",109)(273,"input",113),u("ngModelChange",function(o){return p(n.editConfirmPassword,o)||(n.editConfirmPassword=o),o}),t(),e(274,"button",111),h("click",function(){return n.togglePassword("editConfirmPassword")}),m(275,"i"),t()()()()()()(),e(276,"div",59)(277,"button",60),a(278,"Annulla"),t(),e(279,"button",114),h("click",function(){return n.saveUserChanges()}),m(280,"i",115),a(281," Salva Modifiche "),t()()()()()),i&2&&(s(31),c("ngModel",n.filterCognome),s(7),c("ngModel",n.filterSocieta),s(7),c("ngModel",n.filterMatricola),s(32),g("ngForOf",n.filteredUsers),s(),g("ngIf",n.filteredUsers.length===0),s(66),L(" ",n.selectedUserName?(n.selectedUserName.charAt(0)+n.selectedUserName.split(" ").slice(-1)[0].charAt(0)).toUpperCase():"-"," "),s(3),f(n.selectedUserName||"Utente"),s(4),g("ngIf",n.selectedUserHistory.length>0),s(),g("ngIf",n.selectedUserHistory.length===0),s(14),g("value",n.editUserId),s(8),c("ngModel",n.editFirstName),s(7),c("ngModel",n.editLastName),s(8),c("ngModel",n.editEmail),s(7),c("ngModel",n.editPhone),s(8),c("ngModel",n.editBirthdate),s(7),c("ngModel",n.editGender),s(15),c("ngModel",n.editCompany),s(15),g("ngIf",n.editShowOtherCompany),s(8),c("ngModel",n.editMatricola),s(5),c("ngModel",n.editUserCode),s(9),g("type",n.editShowPassword?"text":"password"),c("ngModel",n.editNewPassword),s(2),N(n.editShowPassword?"ri-eye-off-fill align-middle":"ri-eye-fill align-middle"),s(8),g("type",n.editShowConfirmPassword?"text":"password"),c("ngModel",n.editConfirmPassword),s(2),N(n.editShowConfirmPassword?"ri-eye-off-fill align-middle":"ri-eye-fill align-middle"))},dependencies:[q,V,z,Y,re,ee,ie,ne,Q,te,J,X,ae,$,Z]})};export{oe as GestisciUtentiComponent};
